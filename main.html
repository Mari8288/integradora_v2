<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TerraNova</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
</head>

<body>
  <div id="app">
    <header>
      <div class="brand">
        <h2>TerraNova</h2>
        <span id="userBadge" class="user-pill" title="Usuario"></span>
      </div>
      <nav>
        <button class="tablink" onclick="openTab('inicio')">Inicio</button>
        <button class="tablink" onclick="openTab('sobre')">Sobre el Proyecto</button>
        <button class="tablink" onclick="openTab('datos')">Datos en Tiempo Real</button>
        <button class="tablink" onclick="openTab('alertas')">Recomendaciones</button>
        <button class="tablink" onclick="openTab('contacto')">Comentarios</button>
        <button id="logoutBtn">Cerrar Sesión</button>
      </nav>
    </header>

    <!-- Inicio -->
    <section id="inicio" class="active">
      <h2>Plataforma de Cultivo Inteligente</h2>
      <p>
        Optimiza tus cultivos y toma decisiones con información precisa en tiempo real.
      </p>
      <button class="btn" onclick="openTab('sobre')">Descubrir más</button>
    </section>

    <!-- Sobre -->
    <section id="sobre">
      <h2>Nuestro Objetivo</h2>
      <p>
        El objetivo principal de la <b>Plataforma de Cultivo Inteligente con Predicción de Rendimiento</b> es 
        desarrollar una solución tecnológica integral que optimice los procesos agrícolas mediante 
        la integración de herramientas de <b>Internet de las Cosas (IoT)</b>, análisis de datos y modelos predictivos.
        Esta plataforma busca ofrecer a los agricultores información precisa, en tiempo real y con proyecciones 
        confiables sobre el estado de sus cultivos, mejorando la eficiencia productiva, reduciendo desperdicios 
        y maximizando el rendimiento de las cosechas.
      </p>
    </section>

   <!-- Datos -->
<section id="datos">
  <h2>Datos de Sensores en Tiempo Real</h2>
  <canvas id="sensorChart"></canvas>
</section>


    <!-- Recomendaciones -->
    <section id="alertas">
      <h2>Recomendaciones</h2>
      <div class="accordion" id="recosAccordion">
        <!-- 1. Humedad del suelo -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              ⚠ Humedad del Suelo
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne">
            <div class="accordion-body">
              La humedad determina la disponibilidad de agua para las raices. Si el suelo esta demasiado seco, las plantas se marchitan y su metabolismo se ralentiza;
              si esta demasiado humedo, las rices pueden pudrirse y los nutrientes se lixivian.
             <p> <b>Rango ideal:</b> Depende del tipo de cultivo, pero generalmente entre 50%-70% de humedad en el suelo.</p>
             <p> <b>Recomendaciones:</b> 
              <ul>
                <li>Usar sistemas de riego controlados como goteo o aspersion segun necesidades del cultivo</li>
                <li>Evitar el encharcamiento y mejorar el drenaje si el agua se acumula</li>
              </ul> 
            </p>
            </div>
          </div>
        </div>

        <!-- 2. Temperatura -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              ⚠ Temperatura
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo">
            <div class="accordion-body">
              La temperatura afecta fotosintesis, respiracion y crecimiento de las plantas.
              Temperaturas extremas pueden <b>detener el crecimiento o dañar tejidos.</b>
              <p> <b>Recomendaciones:</b>
                <ul>
                  <li>Proteger cultivos del frio con cobertores o invernaderos</li>
                  <li>Usar sombra y ventilacion en temperaturas altas</li>
                </ul>
              </p>
            </div>
          </div>
        </div>

        <!-- 3. Nutrientes -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              ⚠ Nutrientes
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree">
            <div class="accordion-body">
              Los nutrientes son esenciales para la formacion de hojas, raices y frutos.
              <p><b>Principales nutrientes:</b>
                <ul>
                  <li><b>Nitrogeno (N):</b> Crecimiento de hojas</li>
                  <li><b>Fósforo (P):</b> Ráices y floracion</li>
                  <li><b>Potasio (K):</b> Frutos y resistencia a enfermedades.</li>
                  <li><b>Micronitrientes:</b> Hierro, calcio, magnesio, zinc, boro</li>
                </ul>
              </p>
              <p><b>Recomendaciones:</b>
                <ul>
                  <li>Fertilizar según análisis de suelo y etapa de crecimiento</li>
                  <li>Evitar sobrefertilizacion que contamine el agua o queme raíces.</li>
                </ul>
              </p>
            </div>
          </div>
        </div>

        <!-- 4. Plagas -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFour">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
              ⚠ Plagas y enfermedades
            </button>
          </h2>
          <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour">
            <div class="accordion-body">
              Insectos, hongos y bacterias pueden reducir el rendimiento y calidad del cultivo
              <p><b>Recomendaciones:</b>
                <ul>
                  <li>Supervisar hojas y frutos regularmente</li>
                  <li>Aplicar métodos preventivos: control biológico, rotacion de cultivos, fungicidad/bactericidas si es necesario.</li>
                  <li>Mantener limpieza de herramientas y del área de cultivo.</li>
                </ul>
              </p>
            </div>
          </div>
        </div>

        <!-- 5. Humedad ambiental y ventilacion -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
              ⚠ Humedad ambiental y ventilacion
            </button>
          </h2>
          <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive">
            <div class="accordion-body">
              La humedad del aire afecta la transpiracion de las plantas y la proliferacion de hongos.
              <p><b>Recomendaciones:</b>
                <ul>
                  <li>Mantener ventilacion adecuada para evitar hongos.</li>
                  <li>Evitar exceso de humedad sobre hojas.</li>
                </ul>
              </p>
            </div>
          </div>
        </div>

        <!-- 6. Luz -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingSix">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
              ⚠ Luz
            </button>
          </h2>
          <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix">
            <div class="accordion-body">
              La luz es esencial para la fotosintesis y la formacion de frutos
              <p><b>Rango ideal:</b> La mayoria de cultivos requieren entre 6 y 12 horas de luz solar directa</p>
              <p><b>Recomendaciones:</b>
                <ul>
                  <li>Ajustar la ubicacion de los cultivos segun necesidad de luz.</li>
                  <li>En interior, usar iluminacion artificial con espectro adecuado (azul para crecimiento, rojo para floracion)</li>
                </ul>
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contacto (comentarios 100% en el navegador, sin BD) -->
    <section id="contacto">
      <h2>Comentarios</h2>
      <p>Escríbenos a <b>contacto@cultivointeligente.com</b></p>

      <div id="commentsCard" class="comments-card">
        <h3 class="comments-title">Comentarios</h3>

        <!-- Formulario: sin navegación -->
        <form id="comment-form" class="comments-form" action="javascript:void(0)" onsubmit="return false">
          <textarea id="comment-text" class="form-control" rows="3" placeholder="Escribe tu comentario..." required></textarea>
          <button type="submit" id="btn-comment-form" class="btn">Publicar</button>
          <small id="comment-hint" class="hint">Tus comentarios se guardan en este navegador.</small>
        </form>

        <!-- Lista -->
        <ul id="comments-container" class="comments-list"></ul>
      </div>
    </section>

    <footer>© 2025 Plataforma de Cultivo Inteligente | Proyecto académico UTSC</footer>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous">
  </script>

  <!-- Entrada principal de Vite para el dashboard -->
  <script type="module" src="/src/main.js"></script>
</body>
</html>
